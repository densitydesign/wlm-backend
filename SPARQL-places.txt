SELECT
  ?place ?label ?osmID
  (group_concat(DISTINCT ?geo; separator=";") as ?geo_n)
  (group_concat(DISTINCT ?instance; separator=";") as ?instance_n)
  (group_concat(DISTINCT ?instanceLabel; separator=";") as ?instanceLabel_n)
  (group_concat(DISTINCT ?replaces; separator=";") as ?replaces_n)
  (group_concat(DISTINCT ?replacesLabel; separator=";") as ?replacesLabel_n)
  (group_concat(DISTINCT ?replaced; separator=";") as ?replaced_n)
  (group_concat(DISTINCT ?replacedLabel; separator=";") as ?replacedLabel_n)
WHERE {
  VALUES ?place {
    wd:Q-NUMBERS-1-EACH-LINE
  }
  ?place rdfs:label ?label .
  FILTER (langMatches( lang(?label), "it" ) )
  ?place wdt:P625 ?geo .
  OPTIONAL { ?place wdt:P1365 ?replaces . }
  OPTIONAL { ?place wdt:P1366 ?replaced . }
  OPTIONAL { ?place wdt:P402 ?osmID . }
  OPTIONAL { ?place wdt:P31 ?instance . }
  
  SERVICE wikibase:label { 
    bd:serviceParam wikibase:language "en". 
    ?instance rdfs:label ?instanceLabel .
    ?replaces rdfs:label ?replacesLabel .
    ?replaced rdfs:label ?replacedLabel .
  }
}

GROUP BY ?place ?label ?geo ?osmID